function load(e,a,t,o,r,l){switch(isListed(null==document.location.ancestorOrigins[0]?window.location.hostname:document.location.ancestorOrigins[0],l.whitelist)){case!1:$("#loading").remove(),$("body").css("background-color","white"),$("body").html("<center><h1 style='color:black;'>X-Frame Protected</h1></center>"),lanalytics(l);break;case!0:customPlayerCSS(l),setupPlayer(e,a,t,o,r,l),lanalytics(l)}}function getQuery(e){var a=new RegExp(e+"\\=([^\\?&]+)","i");if(!a.test(window.location.href))return"";var t=a.exec(window.location.href);return decodeURIComponent(t[1])}function isListed(e,a){var t=!1;return"string"==typeof e?a.forEach((a=>{null!=e.match(a)&&(t=!0)})):t=!1,t}function lanalytics(e){var a=0!==e.player.analytics.googleID.length,t=0!==e.player.analytics.clarityID.length;!0===a&&($("head").append('<script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id='+e.player.analytics.googleID+'"><\/script>'),$("head").append("<script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', '"+e.player.analytics.googleID+"');<\/script>")),!0===t&&$("body").append("<script>(function(c,l,a,r,i,t,y){ c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)}; t=l.createElement(r);t.async=1;t.src='https://www.clarity.ms/tag/'+i; y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y); })(window, document, 'clarity', 'script', '"+e.player.analytics.clarityID+"');<\/script>")}function customPlayerCSS(e){!0===e.player.customPlayerCSS&&$("<link>",{rel:"stylesheet",type:"text/css",href:"https://delivrjs.github.io/delivrjs/css/custom-icons.min.css"}).appendTo("head")}function setupPlayer(e,a,t,o,r,l){$("#loading").remove();var i=md();$("body").append(`<div id="${i}"></div>`),jwplayer(i).setup({sources:e,image:a,title:getQuery("title"),width:l.player.width,height:l.player.height,aspectratio:null,preload:l.player.preload,aboutlink:l.player.aboutlink,abouttext:l.player.abouttext,allowFullscreen:l.player.allowFullscreen,autostart:l.player.autostart,mute:l.player.mute,repeat:l.player.repeat,advertising:{client:l.player.advertising.client,admessage:l.player.advertising.admessage,schedule:{adbreak1:{offset:l.player.advertising.offset[0],tag:o},adbreak2:{offset:l.player.advertising.offset[1],tag:o},adbreak3:{offset:l.player.advertising.offset[2],tag:o},adbreak4:{offset:l.player.advertising.offset[3],tag:o},adbreak5:{offset:l.player.advertising.offset[4],tag:o}}},logo:{file:l.player.logo.file,link:l.player.logo.link,hide:l.player.logo.hide,margin:l.player.logo.margin,position:l.player.logo.position},tracks:[{kind:l.player.tracks.kind,file:getQuery("sub"),label:getQuery("sub_label")},{kind:"thumbnails",file:r}],captions:{color:l.player.captions.color,fontSize:l.player.captions.fontSize,edgeStyle:l.player.captions.edgeStyle,backgroundOpacity:l.player.captions.backgroundOpacity},sharing:{},cast:{},playbackRateControls:l.player.playbackRateControls}),1==l.player.playerDownload&&!1!==t&&jwplayer(i).addButton("https://delivrjs.github.io/delivrjs/assets/custom-icons/download.svg","Download Video",(function(){window.open(t,"_self").blur()}),"Download Video"),jwplayer(i).addButton("https://delivrjs.github.io/delivrjs/assets/custom-icons/forward.png","Forward 10 Seconds",(function(){var e=(jwplayer().getPosition()+10).toFixed(1);console.log("seeking to "+e),jwplayer().seek(e)}),"Forward 10 seconds"),jwplayer(i).on("adBlock",(function(){1==l.player.fuckadblock&&1==l.player.showAD&&($("#loading").remove(),jwplayer(i).setup({file:"https://delivrjs.github.io/delivrjs/assets/video/adblock.mp4",type:"video/mp4",image:"https://delivrjs.github.io/delivrjs/assets/img/adblock.jpeg",width:l.player.width,height:l.player.height,preload:l.player.preload,controls:!1,autostart:!0,repeat:!0,logo:{file:l.player.logo.file,link:l.player.logo.link,hide:l.player.logo.hide,margin:l.player.logo.margin,position:l.player.logo.position}}))}))}function err(e){$("#loading").remove();var a=md();$("body").append(`<div id="${a}"></div>`),jwplayer(a).setup({file:"https://delivrjs.github.io/delivrjs/assets/video/404.mp4",type:"video/mp4",width:e.player.width,height:e.player.height,preload:e.player.preload,controls:!1,autostart:!0,repeat:!0,logo:{file:e.player.logo.file,link:e.player.logo.link,hide:e.player.logo.hide,margin:e.player.logo.margin,position:e.player.logo.position}})}function md(){for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=a.length,o=0;10>o;o++)e+=a.charAt(Math.floor(Math.random()*t));return e}(async()=>{const e=(e=>{const a=a=>{return(t=e,t.split("").map((e=>e.charCodeAt(0)))).reduce(((e,a)=>e^a),a);var t};return e=>e.match(/.{1,2}/g).map((e=>parseInt(e,16))).map(a).map((e=>String.fromCharCode(e))).join("")})(window.location.hostname);let a=await fetch("https://connected.pages.dev/regEx.json");a=await a.json();let t=await fetch(window.location.protocol+"//"+window.location.hostname+"/config.json");t=await t.json();var o=e(getQuery("id"));if(o){for(var r,l="",i=0;i<a.length;i++)!0===new RegExp(a[i].prefix,"gm").test(o)&&(r=a[i].host,l=o.replace(a[i].prefix,""));r&&l?xstreampro.get(r,l,t).then((function(e){if(e)if(1==e.status){var a=e.sources,o=""==getQuery("thumbnail")?e.image:getQuery("thumbnail"),r=1==t.player.showAD?t.player.advertising.adTag:null,l=""!=e.vtt?e.vtt:null;load(a,o,null!==e.download&&e.download,r,l,t)}else err(t);else err(t)})):err(t)}else err(t)})();
